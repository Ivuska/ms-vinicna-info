{% extends 'base.html' %}
{% block head %}
{% endblock %}
{% block content %}
<main class="flex grow flex-col justify-center items-center text-center w-4/5 p-4 bg-slate-200 dark:bg-slate-800">
  <section class="w-4/6">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="flex flex-row-reverse rounded bg-red-300 text-red-900 text-sm text-left p-3" id="flashmessage">
      <div>
        <a class="cursor-pointer" href="#" onclick="closeFlashMessage()">
          <i class="fa-solid fa-xmark text-red-900  hover:text-red-500 focus:text-red-500"></i>
          <span class="sr-only">Close error flash message</span>
        </a>
      </div>
      <ul class="grow">
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    {% endwith %}
  </section>
  <section class="flex flex-row-reverse w-5/6">
    <a href="#" onclick="setMode()">
      <i class="fa-solid dark:text-white text-xl" aria-hidden="true" id="darkmodeicon"></i>
      <span class="sr-only">Toggle dark/light mode</span>
    </a>
  </section>

  <section class="flex flex-col justify-center">
    <h1 class="text-indigo-600 text-center font-extrabold text-3xl my-5 uppercase">{% block title %} Info ze školky do
      mailu {% endblock %}</h1>

    <p class="text-center mb-12 text-l dark:text-white">Pro všechny, které nebaví pořád kontrolovat web školky.</p>
  </section>

  <section>
    <form class="flex grow flex-col justify-center items-center text-center m-0" method="post" id="form" action="/">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <div class="flex grow justify-items-center items-center space-x-3">
        <i class="far fa-envelope text-4xl text-center  text-indigo-600"></i>
        <input class="text-sm rounded dark:bg-slate-200 border-solid hover:border-4 focus:border-4 border-indigo-300 dark:border-indigo-500 w-80 px-8 py-2" type="email"
          name="input_email" id="email" placeholder="email" value="{{ email_address }}" required />

      </div>
      <div class="mt-8">
        {{ recaptcha }}
      </div>
      <button
        class="rounded shadow-md text-center text-indigo-600 hover:text-indigo-200 active:text-indigo-200 uppercase bg-indigo-200 hover:bg-indigo-600 active:bg-indigo-600 hover:bg-indigo-600text-l font-bold px-6 py-5 my-8"
        formnovalidate id="btn" type="submit">Chci články</button>
      <p class="text-xs dark:text-white">
        Odesláním potvrzuji, že jsem si přečetl/a <a
          class="text-indigo-400  hover:text-indigo-600  focus:text-indigo-600" href="{{ url_for('show_gdpr_page') }}"
          target="_blank"><span>Informovaný souhlas</span></a>&nbsp;a přijímám jej.
      </p>
    </form>
  </section>
</main>
{% endblock %}